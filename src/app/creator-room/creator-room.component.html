<div fxLayout="column" fxLayoutAlign="start" fxLayoutGap="20px" fxFill>
  <div fxLayout="row" fxLayoutAlign="center">
    <mat-card *ngIf="room && !deleteDialog && !modify">
      <mat-card-header>
        <mat-card-title>
          <h3 *ngIf="!modify" class="subheading-2">{{ room.name }}</h3>
          <mat-form-field *ngIf="modify">
            <textarea #roomName matInput matTextareaAutosize matAutosizeMinRows="1"
                      matAutosizeMaxRows="2">{{room.name}}</textarea>
          </mat-form-field>
        </mat-card-title>
        <mat-card-subtitle>
          <div *ngIf="!modify">
            {{ room.shortId }}
          </div>
          <div *ngIf="modify">
            <mat-form-field>
            <textarea #roomShortID matInput matTextareaAutosize matAutosizeMinRows="1"
                      matAutosizeMaxRows="5">{{room.shortId}}</textarea>
            </mat-form-field>
          </div>
        </mat-card-subtitle>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <p *ngIf="!modify">
          {{ room.description }}
        </p>
        <p *ngIf="modify">
          <mat-form-field>
            <textarea #roomDescription matInput matTextareaAutosize matAutosizeMinRows="2"
                      matAutosizeMaxRows="5">{{room.description}}</textarea>
          </mat-form-field>

        </p>
      </mat-card-content>
      <mat-divider></mat-divider>
      <mat-card-actions>
        <button mat-button color="primary" matTooltip="Create new content">
          Create content
        </button>
        <button mat-button color="primary" matTooltip="See contents">
          Contents
        </button>
        <button mat-button color="primary" matTooltip="See room comments"
                routerLink="/creator/room/{{room.id}}/comments">
          Comments
        </button>
        <button *ngIf="!modify" (click)="enableModifications()" mat-button color="primary" matTooltip="Modify room's details">
          Modify room
        </button>
        <button *ngIf="modify" (click)="updateRoom()" mat-button color="primary" matTooltip="Update room's details">
          Update room
        </button>
        <button mat-button color="warn" (click)="showDeletionDialog()">
          Delete room
        </button>
        <button mat-button color="primary" (click)="goBack()">
          Go back
        </button>
      </mat-card-actions>
    </mat-card>
    <mat-card *ngIf="deleteDialog">
      <mat-card-header><h3>Do you really want to delete this room?<br>This action can not be undone.</h3>
      </mat-card-header>
      <mat-card-content>
        <button mat-raised-button color="warn" (click)="deleteRoom(room)">
          Delete room
        </button>
        <button mat-raised-button color="primary" (click)="hideDeletionDialog()">
          Leave
        </button>
      </mat-card-content>
    </mat-card>
    <div *ngIf="!isLoading && !room">Error: room could not be found!</div>
  </div>
</div>
