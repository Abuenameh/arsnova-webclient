<div fxLayout="column" fxLayoutGap="16px">
  <div>
    <div tabindex="0" id="comments-settings" class="visually-hidden">{{ 'settings.a11y-comments' | translate }}</div>
    <div fxLayout="column">
      <div fxLayout="row">
        <p>{{ 'settings.threshold' | translate}}&nbsp;
          <mat-slide-toggle [(ngModel)]="enableThreshold" (change)="updateCommentSettings()"
                            aria-labelledby="threshold"></mat-slide-toggle>
        </p>
        <button mat-icon-button class="info-button" #ttt="matTooltip" matTooltip="{{ 'settings.threshold-info' | translate }}"
                (click)="ttt.toggle()">
          <mat-icon class="info-icon">info</mat-icon>
        </button>
      </div>
      <div fxLayout="row" fxLayoutAlign="center center" *ngIf="enableThreshold">
        <mat-slider id="commentSlider" min="-100" max="0" step="5" [(ngModel)]="threshold"
                    (input)="onSliderChange($event)" (change)="updateCommentSettings(); announceThreshold();"></mat-slider>
        <h2>&nbsp;{{ threshold | number }}</h2>
      </div>
    </div>
    <div fxLayout="column">
      <div fxLayout="row">
        <p>{{ 'settings.comment-moderation' | translate}}&nbsp;
          <mat-slide-toggle [(ngModel)]="enableModeration" (change)="updateCommentSettings()"
                            aria-labelledby="settings-comment-moderation"></mat-slide-toggle>
        </p>
      </div>
      <div fxLayout="row" *ngIf="enableModeration">
        <p>{{ 'settings.direct-send' | translate}}&nbsp;
          <mat-slide-toggle [(ngModel)]="directSend" (change)="updateDirectSend()"
                            aria-labelledby="settings-direct-send"></mat-slide-toggle>
        </p>
        <button mat-icon-button class="info-button" #dstt="matTooltip"
                matTooltip="{{ 'settings.direct-send-info' | translate }}"
                (click)="dstt.toggle()">
          <mat-icon class="info-icon">info</mat-icon>
        </button>
      </div>
    </div>
  </div>
  <div>
    <div tabindex="0" id="tags-settings" class="visually-hidden">{{ 'settings.a11y-categories' | translate }}</div>
    <div>
      <mat-form-field class="input-block no-field-hint" appearance="outline">
        <mat-label>{{ 'settings.tags' | translate }}</mat-label>
        <mat-chip-list #tagList>
          <mat-chip *ngFor="let tag of tags" [removable]="true" (removed)="deleteTag(tag)">
            {{tag}}
            <mat-icon matChipRemove attr.aria-label="{{ 'settings.a11y-remove-tag' | translate: { name: tag } }}">cancel</mat-icon>
          </mat-chip>
          <input (focus)="eventService.makeFocusOnInputTrue()" (blur)="eventService.makeFocusOnInputFalse()"
                 [matChipInputFor]="tagList" (matChipInputTokenEnd)="addTag()"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 type="text" [(ngModel)]="tagName" name="taginput" aria-labelledby="category" maxlength="15"
          placeholder="{{ 'settings.new-tag' | translate }}"/>
        </mat-chip-list>
      </mat-form-field>
    </div>
  </div>
</div>

<div class="visually-hidden">
  <div id="threshold">{{'settings.a11y-threshold' | translate}} </div>
  <div id="settings-comment-moderation">{{'settings.a11y-comment-moderation' | translate}} </div>
  <div id="settings-direct-send">{{'settings.a11y-direct-send' | translate}} </div>
  <div id="category">{{ 'settings.a11y-enter-tag' | translate }}</div>
</div>
