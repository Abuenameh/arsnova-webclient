<div *ngIf="isLoading" fxLayout="column" fxLayoutAlign="center" fxFill>
  <div fxLayout="row" fxLayoutAlign="center">
    <mat-progress-spinner color="primary" mode="indeterminate" diameter="80"></mat-progress-spinner>
  </div>
</div>
<div *ngIf="!isLoading" fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="center">
  <mat-card>
    <div class="feedback-container" [ngClass]="{'faded' : isClosed}">
      <div fxLayout="row" fxLayoutGap="30px" *ngFor="let state of feedback">
        <mat-icon matTooltip="{{ state.message }}"
                  (click)="!isOwner && submitFeedback(state.state)">{{ state.name }}</mat-icon>
        <mat-progress-bar class="feedback-progress" [value]="state.count"></mat-progress-bar>
      </div>
    </div>
    <div class="text invisible" [ngClass]="{'visible' : isClosed}">
      <h3>{{ 'feedback.is-stopped' | translate }}</h3>
    </div>
    <div fxLayoutAlign="center" *ngIf="isOwner">
      <button mat-raised-button class="button-primary" fxLayoutAlign="center" (click)="toggle()">
        <p [translate]="isClosed ? 'feedback.start' : 'feedback.stop'"></p>
      </button>
    </div>
  </mat-card>
</div>
